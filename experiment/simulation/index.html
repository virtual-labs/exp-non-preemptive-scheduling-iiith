<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Home</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


    <script src="./js/main.js"></script>
</head>

<body>

    <div id="myModal" class="modal">

        <!-- Modal content -->
        <div class="modal-content" style="border-radius: 15px;">
            <!-- <span class="close">&times;</span> -->
            <p>
            <h1 style="color: red;">Error!</h1>
            <p>
            <p id="alert-msg">
            </p>
            <span class="boot"
                style="width: fit-content; padding: 10px; background-color: red; color: white; border-radius:10px;">OK</span>
            </p>
            </p>
        </div>

    </div>

    <!-- <div class="Instructions">
        <p style="font-weight: bolder; color: dodgerBlue; text-align: center;">Instructions</p>
        <hr>
        <p style="padding-left: 10px;">
            1. Please read the theory before starting the experiment.<br>
            2. Follow the instructions in the dialog box to walk through the simulation.<br>
            3. Student can control the simulation using the controls provided in 'Controls' section.<br>
            4. Click on the "Start" button to start the simulation.<br>
        </p>
    </div> -->
    <div class="container">
        <div class="ts_states">
            <p style="text-align: center; font-weight: bold">Transition states of the system</p>
            <hr>

            <div class="states">
                <div class="tabset">
                    <input type="radio" name="tabset" id="tab1" aria-controls="marzen" checked>
                    <label id="current_state" for="tab1">Current System<br>State</label>
                    <input type="radio" name="tabset" id="tab2" aria-controls="marzen">
                    <label id="previous_states" for="tab2">Previous system<br>States</label>

                    <div class="tab-panels">
                        <section id="marzen" class="tab-panel">
                            <table id="current_ts">
                                <tr>
                                    <td class="ts_cell">Ready:</td>
                                    <td class="ts_cell" id="rQ"></td>
                                </tr>
                                <tr>
                                    <td class="ts_cell">Waiting for I/O:</td>
                                    <td class="ts_cell" id="wQ"></td>
                                </tr>
                                <tr>
                                    <td class="ts_cell">Terminated:</td>
                                    <td class="ts_cell" id="tQ"></td>
                                </tr>
                                <tr>
                                    <td class="ts_cell">Completed:</td>
                                    <td class="ts_cell" id="cQ"></td> 
                                </tr>
                                <tr>
                                    <td class="ts_cell">cpu:</td>
                                    <td class="ts_cell" id="cpu_p">None</td>
                                </tr>
                                <tr>
                                    <td class="ts_cell">Map:</td>
                                    <td class="ts_cell" id="map">-</td>
                                </tr>
                                <tr>
                                    <td class="ts_cell">Timer:</td>
                                    <td class="ts_cell" id="timer">-</td>
                                </tr>
                                <tr>
                                    <td class="ts_cell">Scheduling policy:</td>
                                    <td class="ts_cell" id="schd_p">None</td>
                                </tr>
                            </table>
                        </section>
                        <section id="rauchbier" class="tab-panel">

                            <div id="prev_state">
                                <!-- <button type="button" class="collapsible">Open Collapsible</button>
                                <table id="previous_ts">
                                    <tr>
                                        <td class="ts_cell">Ready:</td>
                                        <td class="ts_cell" id="rQ"></td>
                                    </tr>
                                    <tr>
                                        <td class="ts_cell">Waiting for I/O:</td>
                                        <td class="ts_cell" id="wQ"></td>
                                    </tr>
                                    <tr>
                                        <td class="ts_cell">Terminated:</td>
                                        <td class="ts_cell" id="tQ"></td>
                                    </tr>
                                    <tr>
                                        <td class="ts_cell">cpu:</td>
                                        <td class="ts_cell" id="cpu_p"></td>
                                    </tr>
                                    <tr>
                                        <td class="ts_cell">Map:</td>
                                        <td class="ts_cell" id="map"></td>
                                    </tr>
                                    <tr>
                                        <td class="ts_cell">Timer:</td>
                                        <td class="ts_cell" id="timer"></td>
                                    </tr>
                                    <tr>
                                        <td class="ts_cell">Scheduling policy:</td>
                                        <td class="ts_cell" id="schd_p"></td>
                                    </tr>
                                </table> -->

                            </div>

                    </div>

                </div>
            </div>
            <p style="text-align:center; font-weight: bold;">Controls</p>
            <hr>
            <div class="controls">
                <select name="things" class="btn" id="policy-btn" style="width: 100%;" onchange="UpdatePolicy()">
                    <option value="null" selected="selected">Please Select the Scheduling Policy...</option>
                    <option value="FCFS">First Come First Serve</option>
                    <option value="SJF">Shortest Job First</option>
                    <option value="RR"><button>Round-Robin</button></option>
                </select>
                
                <button class="btn" id="tick-btn" onclick="Tick()" style="width: 100%;"><i class="fa fa-clock-o"
                        aria-hidden="true"></i>
                    Tick</button>
                <p style="text-align: center; font-weight: bold;">Load Commands</p>
                <button class="btn" id="schd-btn" onclick="loadUnloadCommand('schedule')">Schedule</button>
                <div class="dropdown">
                    <button class="btn" id="newProcess-btn" onclick="ToggleCreateProcess()"> <i class="fa fa-plus"></i> New
                        process</button>
                    <div id="myDropdown" class="dropdown-content">
                        <!-- <input type="number" placeholder="Enter Burst Time (1 - 30)" id="burstTime"> -->
                        <textarea name="burstTime" id="burstTime" cols="30" rows="10"></textarea>
                        <button class="btn" style="width: 100%; border-radius: 0%;"
                            onclick="loadUnloadCommand('newProcess')">Create</button>
                    </div>
                </div>
                <button class="btn" id="end-btn" onclick="loadUnloadCommand('terminate')">Terminate</button>
            </div>

        </div>
        <div class="displays">

            <div>

                <div class="display-block" style="width: 30%;">
                    <p style="text-align: center; font-weight: bold;">CPU
                        <!-- <button class="wrapper" id="info_btn"> ?
                            <span class="tooltip">CPU is the hardware component that carries out the essential
                                computational
                                tasks required by the OS and software applications. The OS manages and coordinates the
                                CPU's
                                activities, ensuring that processes run efficiently, securely, and in accordance with
                                system
                                priorities.</span>
                        </button> -->
                    </p>
                    <hr>
                    <table id="CPU">

                    </table>
                </div>
                <div class="display-block" style="width: 60%;">
                    <p style="text-align: center; font-weight: bold;">Processes
                        <!-- <button class="wrapper" id="info_btn"> ?
                            <span class="tooltip">This block contains information about all the process in the
                                simulation.</span>
                        </button> -->
                    </p>
                    <hr>

                    <table id="processes">

                    </table>
                </div>
            </div>

            <div class="tickDisplay">
                <p>Number of Ticks: <span id="ticker"></span></p>
            </div>
            <!-- <div class="tickDisplay">
                <table id="tick" class="tickTable">
                    <tr>
                        <td class="tickCell">Number of Ticks:</td>
                        <td class="tickCell" id="ticker"></td>
                    </tr>
                </table>
            </div> -->
        </div>
        <div class="dialog-box">
            <p style="text-align: center; font-weight: bold;">Dialog</p>
            <hr>
            <table id="dialog">
                <tr>
                    <td class="msg">Please create a new process to start the experiment.
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="concept-block">
        <div id="toc">
            <button class="toc-element" onclick="openContent(1)"> Objective
            </button>
            <span class="content-block" id="1">
                This experiment aims to show the importance of the scheduling mechanism in process management.
            </span>

            <br><br>
    
            <button class="toc-element" onclick="openContent(2)"> What is scheduling?
            </button>
            <span class="content-block" id="2">
                Similar to that of <a href="https://virtual-labs.github.io/exp-context-switching-iiith/theory.html">context switching</a>, the mechanism of scheduling is also a part of 'Process Management Subsystem'. <br><br>However, while context switching is responsible to store, restore and load the new context on the Central Processing Unit (CPU), scheduling is responsible for selecting or handing the over the next process ready to be executed on the CPU. <a href="https://virtual-labs.github.io/exp-non-preemptive-scheduling-iiith/theory.html">See more...</a>
            </span>

            <br><br>

            <button class="toc-element" onclick="openContent(3)"> The mechanism of Scheduling
            </button>
            <span class="content-block" id="3">
                The mechanism of scheduling is a kernel process which selects a process from the ready queue and hands it over to the CPU. <br><br>
                Based on the scheduling process used by the OS like <a href="https://en.wikipedia.org/wiki/FIFO_(computing_and_electronics)">FCFS</a>, <a href="https://en.wikipedia.org/wiki/Shortest_remaining_time">SJF</a>, <a href="https://en.wikipedia.org/wiki/Round-robin_scheduling">Round Robin</a> etc, a process is selected from the ready queue after the completion of the currently executing process or by preempting the current process.<br><br>
                This selected process is then ut on the CPU with the help of <a href="https://virtual-labs.github.io/exp-context-switching-iiith/theory.html">context switching</a> mechanism and then starts its on the CPU. <br><br>
                <a href="https://en.wikipedia.org/wiki/Scheduling_(computing)">See more...</a>
            </span>

            <br><br>

            <button class="toc-element" onclick="openContent(4)"> References
            </button>
            <span class="content-block" id="4">
                TODO...
            </span>
        </div>
        <i class="fa fa-book" aria-hidden="true" id="study-material" onclick="openTheory()"></i>
    </div>
    <!-- <div class="container3">
        <h2>Know what's happening</h2>
        <section class="accordion">
            <input type="checkbox" name="collapse2" id="handle1">
            <h2 class="handle">
                <label for="handle1">Introduction</label>
            </h2>
            <div class="content">
                <p><strong>Objective:</strong> <br>
                    Our objective in this experiment is to understand the mechanism of switching used by
                    the OS for multi processing.
                    In this simulation, we approach the context switching technique at a three level abstraction (User,
                    Hardware and Kernel).

                </p>
                <p>
                <p><strong>Intuition:</strong><br>Consider we have only two programs in the system. You are to observe
                    the instruction given in the dialog box and respond
                    with the corresponding
                    action in the simulation above.</p>
                <p>Observe the control flow between the user state, hardware and the kernel mode and how the CPU
                    and other resources get's updated accordingly.</p>
                </p>

                <p><strong>Apparatus:</strong> <br>
                    1. User<br>
                    2. Hardware<br>
                    3. Kernel<br>
                    4. CPU<br>
                    5. Kernel Stack (k-stack)<br>
                    6. Process Control Block (PCB)<br>
                    7. Interrupt Handlers<br>
                </p>
            </div>
        </section>
        <section class="accordion">
            <input type="checkbox" name="collapse2" id="handle6">
            <h2 class="handle">
                <label for="handle6">Procedure</label>
            </h2>
            <div class="content">
                <p>1. Read the primary instructions provided at the top of the page. <br>
                    2. Follow the instructions provided in the dialogue box to go through the mechanism.<br>
                    3. Click on the 'Start' button and then bootstrap the OS.<br>
                    4. Once the program is loaded in User, use the next and previous buttons to tranverse through the
                    process.<br>
                    5. Follow the prompts given in the dialogue box at every step to handle the traps and interrupts
                    during the execution of the process.</p>
            </div>
        </section>
        <section class="accordion">
            <input type="checkbox" name="collapse2" id="handle2">
            <h2 class="handle">
                <label for="handle2">Theory</label>
            </h2>
            <div class="content">
                <p><strong>What is context?</strong><br> The term "context" refers to the state
                    and information associated with a process or thread at a specific point in time. It
                    encompasses various aspects of the process's execution environment, including its program
                    counter, register values, memory allocation, and other relevant data. It provides
                    all the necessary information for the operating system to save and later restore the
                    process's execution when it is preempted or needs to be resumed.</p>
                <p><strong>How is context different from PCB?:</strong> <br>
                    While context and PCB both deal with process management and are closely related, they serve
                    different purposes and exist at different levels of abstraction.
                    Context is about saving and restoring the immediate execution state of a process or thread
                    during context switches, while the PCB is a data structure used to maintain comprehensive
                    information about a process or thread over its entire lifetime and is used for higher-level
                    process management within the operating system.</p>
            </div>
        </section>


        <section class="accordion">
            <input type="checkbox" name="collapse2" id="handle5">
            <h2 class="handle">
                <label for="handle5">References</label>
            </h2>
            <div class="content">
                <a href="https://docs.kernel.org/" target="_blank">Linux documentation</a><br>
                <a href="https://en.wikipedia.org/wiki/Context_switch" target="_blank">Wikipedia</a><br>
                <a href="https://pages.cs.wisc.edu/~remzi/OSTEP/" target="_blank">Remzi-threeEasyPieces</a><br>
                <a href="https://drive.uqu.edu.sa/_/mskhayat/files/MySubjects/2017SS%20Operating%20Systems/Abraham%20Silberschatz-Operating%20System%20Concepts%20(9th,2012_12).pdf"
                    target="_blank">OS
                    by Silberschatz</a><br>
                <a href="https://github.com/torvalds/linux" target="_blank">Linux github Repo</a>
            </div>
        </section> -->


    </div>

</body>

</html>